{"ast":null,"code":"var _jsxFileName = \"/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js\";\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport './chat.css';\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState('');\n  const [messages, setMessages] = useState('');\n  const [userMessages, setUserMessages] = useState([]);\n  const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n  // const sendMessage = (e) => {\n  //     e.preventDefault();\n  //     if(!messages){\n  //         return;\n  //     }\n  //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n  //         if (err) {\n  //             console.log(err);\n  //         }\n  //     });\n  // };\n  //\n  // useEffect(() => {\n  //     if(window.localStorage?.socket_id){\n  //         return ;\n  //     }\n  //     const name = prompt(\"user Name!\");\n  //     if(!name){\n  //         alert(\"Please enter your name!\");\n  //     } else {\n  //         socket.emit('new_user_joined', name);\n  //         setChat(name);\n  //     }\n  // }, []);\n  //\n  // useEffect(() => {\n  //     socket.on('user_joined', (payload) => {\n  //         window.localStorage.socket_id = payload.id;\n  //     });\n  //\n  //     socket.on('received', (payload) => {\n  //         setMessages('')\n  //         setUserMessages([...userMessages, payload]);\n  //     });\n  //\n  //     socket.on('left', (payload) => {\n  //         console.log(\"left\", payload);\n  //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n  //     })\n  // })\n\n  const handlePostRequest = async e => {\n    e.preventDefault();\n    axios.post('http://localhost:8080/public/sign-up', {\n      fname: \"nitesh\",\n      lname: \"mangla\",\n      age: 32\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(response => console.log(response.data)).catch(error => console.error('Error:', error));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"SimpleChat\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"\\u2699\\uFE0F\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, userMessages.map((msg, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${msg.user_id !== window.localStorage.socket_id ? 'bot-message' : 'user-message'}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 126\n      }\n    }, msg.name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 153\n      }\n    }), msg.message);\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, isUserDisconnect)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your message...\",\n    onChange: e => setMessages(e.target.value),\n    value: messages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      handlePostRequest(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Send\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","io","axios","App","message","setMessage","chat","setChat","messages","setMessages","userMessages","setUserMessages","isUserDisconnect","setIsUserDisconnect","handlePostRequest","e","preventDefault","post","fname","lname","age","headers","then","response","console","log","data","catch","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","user_id","window","localStorage","socket_id","name","style","textAlign","type","placeholder","onChange","target","value","onClick"],"sources":["/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport './chat.css'\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n    const [message, setMessage] = useState('');\n    const [chat, setChat] = useState('');\n    const [messages, setMessages] = useState('');\n    const [userMessages, setUserMessages] = useState([]);\n    const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n    // const sendMessage = (e) => {\n    //     e.preventDefault();\n    //     if(!messages){\n    //         return;\n    //     }\n    //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n    //         if (err) {\n    //             console.log(err);\n    //         }\n    //     });\n    // };\n    //\n    // useEffect(() => {\n    //     if(window.localStorage?.socket_id){\n    //         return ;\n    //     }\n    //     const name = prompt(\"user Name!\");\n    //     if(!name){\n    //         alert(\"Please enter your name!\");\n    //     } else {\n    //         socket.emit('new_user_joined', name);\n    //         setChat(name);\n    //     }\n    // }, []);\n    //\n    // useEffect(() => {\n    //     socket.on('user_joined', (payload) => {\n    //         window.localStorage.socket_id = payload.id;\n    //     });\n    //\n    //     socket.on('received', (payload) => {\n    //         setMessages('')\n    //         setUserMessages([...userMessages, payload]);\n    //     });\n    //\n    //     socket.on('left', (payload) => {\n    //         console.log(\"left\", payload);\n    //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n    //     })\n    // })\n\n    const handlePostRequest = async (e) => {\n        e.preventDefault();\n        axios.post(\n            'http://localhost:8080/public/sign-up',\n            {\n                fname: \"nitesh\",\n                lname: \"mangla\",\n                age: 32\n            },\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin':  '*'\n                }\n            }\n        )\n            .then(response => console.log(response.data))\n            .catch(error => console.error('Error:', error));\n    }\n\n    return (\n        <div className=\"chat-container\">\n            <div className=\"chat-header\">\n                SimpleChat\n                <span className=\"settings\">⚙️</span>\n            </div>\n            <div className=\"chat-box\">\n                {userMessages.map((msg, index) => {\n                    return (\n                        <div className={`${msg.user_id !== window.localStorage.socket_id ? 'bot-message' : 'user-message'}`}><strong>{msg.name}</strong><br/>{msg.message}\n                        </div>\n                    )\n                })}\n                <div style={{textAlign: \"center\"}}>\n                    {isUserDisconnect}\n                </div>\n            </div>\n            <div className=\"chat-input\">\n                <input type=\"text\"\n                       placeholder=\"Enter your message...\"\n                       onChange={(e) => setMessages(e.target.value)\n                }\n                       value={messages}\n                />\n                <button onClick={(e) => {\n                    handlePostRequest(e)\n                }}>Send\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}