{"ast":null,"code":"var _jsxFileName = \"/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js\";\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport './chat.css';\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState('');\n  const [messages, setMessages] = useState('');\n  const [userMessages, setUserMessages] = useState([]);\n  const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n  // const sendMessage = (e) => {\n  //     e.preventDefault();\n  //     if(!messages){\n  //         return;\n  //     }\n  //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n  //         if (err) {\n  //             console.log(err);\n  //         }\n  //     });\n  // };\n  //\n  // useEffect(() => {\n  //     if(window.localStorage?.socket_id){\n  //         return ;\n  //     }\n  //     const name = prompt(\"user Name!\");\n  //     if(!name){\n  //         alert(\"Please enter your name!\");\n  //     } else {\n  //         socket.emit('new_user_joined', name);\n  //         setChat(name);\n  //     }\n  // }, []);\n  //\n  // useEffect(() => {\n  //     socket.on('user_joined', (payload) => {\n  //         window.localStorage.socket_id = payload.id;\n  //     });\n  //\n  //     socket.on('received', (payload) => {\n  //         setMessages('')\n  //         setUserMessages([...userMessages, payload]);\n  //     });\n  //\n  //     socket.on('left', (payload) => {\n  //         console.log(\"left\", payload);\n  //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n  //     })\n  // })\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/data\", formData);\n      console.log(\"Response:\", response.data);\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"SimpleChat\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"\\u2699\\uFE0F\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, userMessages.map((msg, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${msg.user_id !== window.localStorage.socket_id ? 'bot-message' : 'user-message'}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 126\n      }\n    }, msg.name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 153\n      }\n    }), msg.message);\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, isUserDisconnect)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your message...\",\n    onChange: e => setMessages(e.target.value),\n    value: messages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      handlePostRequest(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Send\")));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","axios","App","message","setMessage","chat","setChat","messages","setMessages","userMessages","setUserMessages","isUserDisconnect","setIsUserDisconnect","handleSubmit","e","preventDefault","response","post","formData","console","log","data","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","user_id","window","localStorage","socket_id","name","style","textAlign","type","placeholder","onChange","target","value","onClick","handlePostRequest"],"sources":["/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport './chat.css'\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n    const [message, setMessage] = useState('');\n    const [chat, setChat] = useState('');\n    const [messages, setMessages] = useState('');\n    const [userMessages, setUserMessages] = useState([]);\n    const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n    // const sendMessage = (e) => {\n    //     e.preventDefault();\n    //     if(!messages){\n    //         return;\n    //     }\n    //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n    //         if (err) {\n    //             console.log(err);\n    //         }\n    //     });\n    // };\n    //\n    // useEffect(() => {\n    //     if(window.localStorage?.socket_id){\n    //         return ;\n    //     }\n    //     const name = prompt(\"user Name!\");\n    //     if(!name){\n    //         alert(\"Please enter your name!\");\n    //     } else {\n    //         socket.emit('new_user_joined', name);\n    //         setChat(name);\n    //     }\n    // }, []);\n    //\n    // useEffect(() => {\n    //     socket.on('user_joined', (payload) => {\n    //         window.localStorage.socket_id = payload.id;\n    //     });\n    //\n    //     socket.on('received', (payload) => {\n    //         setMessages('')\n    //         setUserMessages([...userMessages, payload]);\n    //     });\n    //\n    //     socket.on('left', (payload) => {\n    //         console.log(\"left\", payload);\n    //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n    //     })\n    // })\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.post(\"http://localhost:5000/api/data\", formData);\n            console.log(\"Response:\", response.data);\n        } catch (error) {\n            console.error(\"Error sending data:\", error);\n        }\n    };\n\n    return (\n        <div className=\"chat-container\">\n            <div className=\"chat-header\">\n                SimpleChat\n                <span className=\"settings\">⚙️</span>\n            </div>\n            <div className=\"chat-box\">\n                {userMessages.map((msg, index) => {\n                    return (\n                        <div className={`${msg.user_id !== window.localStorage.socket_id ? 'bot-message' : 'user-message'}`}><strong>{msg.name}</strong><br/>{msg.message}\n                        </div>\n                    )\n                })}\n                <div style={{textAlign: \"center\"}}>\n                    {isUserDisconnect}\n                </div>\n            </div>\n            <div className=\"chat-input\">\n                <input type=\"text\"\n                       placeholder=\"Enter your message...\"\n                       onChange={(e) => setMessages(e.target.value)\n                }\n                       value={messages}\n                />\n                <button onClick={(e) => {\n                    handlePostRequest(e)\n                }}>Send\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}