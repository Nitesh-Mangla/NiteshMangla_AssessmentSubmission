{"ast":null,"code":"var _jsxFileName = \"/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js\";\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport './chat.css';\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState('');\n  const [messages, setMessages] = useState('');\n  const [userMessages, setUserMessages] = useState([]);\n  const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n  // const sendMessage = (e) => {\n  //     e.preventDefault();\n  //     if(!messages){\n  //         return;\n  //     }\n  //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n  //         if (err) {\n  //             console.log(err);\n  //         }\n  //     });\n  // };\n  //\n  // useEffect(() => {\n  //     if(window.localStorage?.socket_id){\n  //         return ;\n  //     }\n  //     const name = prompt(\"user Name!\");\n  //     if(!name){\n  //         alert(\"Please enter your name!\");\n  //     } else {\n  //         socket.emit('new_user_joined', name);\n  //         setChat(name);\n  //     }\n  // }, []);\n  //\n  // useEffect(() => {\n  //     socket.on('user_joined', (payload) => {\n  //         window.localStorage.socket_id = payload.id;\n  //     });\n  //\n  //     socket.on('received', (payload) => {\n  //         setMessages('')\n  //         setUserMessages([...userMessages, payload]);\n  //     });\n  //\n  //     socket.on('left', (payload) => {\n  //         console.log(\"left\", payload);\n  //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n  //     })\n  // })\n\n  const handlePostRequest = async e => {\n    e.preventDefault();\n    axios.post('http://localhost:8080/public/sign-up', {\n      fname: \"nitesh\",\n      lname: \"mangla\",\n      age: 32\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      withCredentials: true\n    }).then(response => console.log(response.data)).catch(error => console.error('Error:', error));\n  };\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      handlePostRequest(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Send\");\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","axios","App","message","setMessage","chat","setChat","messages","setMessages","userMessages","setUserMessages","isUserDisconnect","setIsUserDisconnect","handlePostRequest","e","preventDefault","post","fname","lname","age","headers","withCredentials","then","response","console","log","data","catch","error","createElement","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/niteshmangla/Desktop/projects/fronend/chatty/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport './chat.css'\nimport axios from 'axios';\n\n// const socket = io.connect('http://localhost:8080');\n\nfunction App() {\n    const [message, setMessage] = useState('');\n    const [chat, setChat] = useState('');\n    const [messages, setMessages] = useState('');\n    const [userMessages, setUserMessages] = useState([]);\n    const [isUserDisconnect, setIsUserDisconnect] = useState('');\n\n    // const sendMessage = (e) => {\n    //     e.preventDefault();\n    //     if(!messages){\n    //         return;\n    //     }\n    //     socket.emit('send', { message: messages, id: window.localStorage.socket_id }, (err, response) => {\n    //         if (err) {\n    //             console.log(err);\n    //         }\n    //     });\n    // };\n    //\n    // useEffect(() => {\n    //     if(window.localStorage?.socket_id){\n    //         return ;\n    //     }\n    //     const name = prompt(\"user Name!\");\n    //     if(!name){\n    //         alert(\"Please enter your name!\");\n    //     } else {\n    //         socket.emit('new_user_joined', name);\n    //         setChat(name);\n    //     }\n    // }, []);\n    //\n    // useEffect(() => {\n    //     socket.on('user_joined', (payload) => {\n    //         window.localStorage.socket_id = payload.id;\n    //     });\n    //\n    //     socket.on('received', (payload) => {\n    //         setMessages('')\n    //         setUserMessages([...userMessages, payload]);\n    //     });\n    //\n    //     socket.on('left', (payload) => {\n    //         console.log(\"left\", payload);\n    //         setIsUserDisconnect(`${payload?.name} has been disconnected!`);\n    //     })\n    // })\n\n    const handlePostRequest = async (e) => {\n        e.preventDefault();\n        axios.post(\n            'http://localhost:8080/public/sign-up',\n            {\n                fname: \"nitesh\",\n                lname: \"mangla\",\n                age: 32\n            },\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*'\n                },\n                withCredentials: true\n            }\n        )\n            .then(response => console.log(response.data))\n            .catch(error => console.error('Error:', error));\n    }\n\n    return (\n        <button onClick={(e) => {\n            handlePostRequest(e)\n        }}>Send\n        </button>\n    );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAO,WAAW;AAClB,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,YAAY;AACnB,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;AAEA,SAASC,GAAGA,CAAA,EAAG;EACX,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;;EAE5D;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMc,iBAAiB,GAAG,MAAOC,CAAC,IAAK;IACnCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBd,KAAK,CAACe,IAAI,CACN,sCAAsC,EACtC;MACIC,KAAK,EAAE,QAAQ;MACfC,KAAK,EAAE,QAAQ;MACfC,GAAG,EAAE;IACT,CAAC,EACD;MACIC,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,6BAA6B,EAAE;MACnC,CAAC;MACDC,eAAe,EAAE;IACrB,CACJ,CAAC,CACIC,IAAI,CAACC,QAAQ,IAAIC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC5CC,KAAK,CAACC,KAAK,IAAIJ,OAAO,CAACI,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAC;EACvD,CAAC;EAED,oBACI9B,KAAA,CAAA+B,aAAA;IAAQC,OAAO,EAAGhB,CAAC,IAAK;MACpBD,iBAAiB,CAACC,CAAC,CAAC;IACxB,CAAE;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,MACK,CAAC;AAEjB;AAEA,eAAelC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}